---
title: React 반복문 key에 인덱스를 사용하면 안되는 이유
---

보통 아래 코드와 같이 반복문을 작성하는 경우가 많다.

```js
function App() {
  return (
    <div>
      {list.map((value, index) => <MyList key={index} />}
    </div>
  );
};
```

- 순서가 보장되는 경우(변경되지 않는 경우)에는 큰 문제가 되지 않음

- 앞으로 삽입하는 경우(순서가 보장되지 않는 경우)에는 인덱스가 바뀜

- 리액트는 상태가 바뀌면 이전 상태의 트리와 이후 상태의 트리를 비교.

- 이때 키가 같다면 동일한 요소로 판단하고 업데이트해줌.

- 키를 인덱스로 지정하면 모든 요소가 변경됨.

- 단순히 하나를 앞에 추가하는 작업인데 리액트는 키와 값이 모두 다르니 모든 요소에서 변경된 것으로 인식.

- 유니크한 값(id 등)을 키로 하면 성능적인 면에서 이점이 있다.
